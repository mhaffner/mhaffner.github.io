<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Shp2snoql on Matthew Haffner</title>
    <link>https://mhaffner.github.io/tags/shp2snoql/</link>
    <description>Recent content in Shp2snoql on Matthew Haffner</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <copyright>&amp;copy; 2017 Matthew Haffner</copyright>
    <lastBuildDate>Thu, 13 Jul 2017 00:00:00 +0000</lastBuildDate>
    <atom:link href="/tags/shp2snoql/" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Why I switched from Ubuntu to Manjaro (Arch Linux derivative)</title>
      <link>https://mhaffner.github.io/post/arch-linux/</link>
      <pubDate>Thu, 13 Jul 2017 00:00:00 +0000</pubDate>
      
      <guid>https://mhaffner.github.io/post/arch-linux/</guid>
      <description>

&lt;p&gt;&lt;strong&gt;EDIT: I&amp;rsquo;ve made several modifications to the original piece based on helpful
comments from reddit users &lt;em&gt;newworkaccount&lt;/em&gt;, &lt;em&gt;iKnitYogurt&lt;/em&gt;, &lt;em&gt;jprada&lt;/em&gt;, and
&lt;em&gt;ThisTimeIllSucceed&lt;/em&gt; on the
thread
&lt;a href=&#34;https://www.reddit.com/r/ManjaroLinux/comments/6n6mao/why_i_switched_from_ubuntu_to_manjaro/&#34; target=&#34;_blank&#34;&gt;here&lt;/a&gt;.
View the original post in its full glory/shame
on
&lt;a href=&#34;https://github.com/mhaffner/personal-website-hugo/blob/master/content/post/arch-linux.md&#34; target=&#34;_blank&#34;&gt;Github&lt;/a&gt;.&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Like everyone else, when I first started using GNU/Linux I gravitated toward
Ubuntu.  While using Ubuntu, I sought to try other distributions and briefly
used Fedora, Elementary OS, and Debian. With all of these distributions &amp;ndash;
including Ubuntu &amp;ndash; I came across a very similar problem: having to manually add
software repositories to get programs that were more up-to-date than the package
manager&amp;rsquo;s defaults. With this comes the difficulty of deriving reproducible,
purely command line solutions to installing many of my staple programs. Building
packages from source is not the end of the world, but if there was a
distribution/package manager that had a workable version (for my purposes) of
all the packages I needed, wouldn&amp;rsquo;t that be worth pursuing?&lt;/p&gt;

&lt;p&gt;Enter the Arch Linux family. Since using Manjaro (technically an Arch Linux
derivative, not Arch Linux itself nor an Arch distribution; thanks to reddit
users &lt;em&gt;newworkaccount&lt;/em&gt; and &lt;em&gt;iKnitYogurt&lt;/em&gt; for clarifying this), I&amp;rsquo;m not sure I&amp;rsquo;ve
had to build anything from source manually; I&amp;rsquo;ve installed everything with a
simple one-liner with &lt;code&gt;pacman&lt;/code&gt; or &lt;code&gt;yaourt&lt;/code&gt;. For testing purposes (and for the
sake of (re)installing systems often) it&amp;rsquo;s nice to have reproducible methods of
software installation. Aside from this, Manjaro has other really nice features
rendering it indispensable. Ubuntu has some good things going for it, and for it
I do still hold some reverence as my first true GNU/Linux experience. The purple
terminal sparks an incredible amount of nostalgia every time I see it on someone
else&amp;rsquo;s system.&lt;/p&gt;

&lt;p&gt;But I can&amp;rsquo;t go back.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Warning:&lt;/strong&gt; &lt;em&gt;This is an opinionated piece, and there are likely some solutions
to the problems I perceive with Ubuntu. Nevertheless, Manjaro has seemed much
more straightforward to me, and at its core, I believe it&amp;rsquo;s more user-friendly.
I do not intend this piece to be authoritative; rather, it is a description of
my journey into the Arch-related world from Ubuntu (thanks to reddit user jprada
for pointing out how this could be clarified). If I&amp;rsquo;m being unfair to Ubuntu
and/or you know of solutions to my problems, I&amp;rsquo;d love to hear about it! Drop me
a comment&lt;sup&gt;1&lt;/sup&gt;.&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;The package manager for Manjaro (and Arch Linux) is called &lt;code&gt;pacman&lt;/code&gt;. Installing
multiple packages can be accomplished with&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;pacman -S package1 package2 package3
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;for example. This can, of course, be replicated with &lt;code&gt;apt&lt;/code&gt; on Ubuntu with&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;apt-get install package1 package2 package3
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;but if you have to manually add a PPA, a key, etc., this process becomes several
lines long for each package. Multi-line solutions were common for me as I often
need bleeding edge packages, and most default package versions were not up to
date enough. This process could be automated in a script, but the keys and
repositories can change. I&amp;rsquo;ve never had to add a repository manually with
Manjaro since software in the community repositories (installed with &lt;code&gt;yaourt&lt;/code&gt;)
have everything I need that the official repositories lack. Beyond this,
removing packages seems to be much easier with &lt;code&gt;pacman&lt;/code&gt; through&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;pacman -R package
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Reddit user &lt;em&gt;ThisTimeIllSucceed&lt;/em&gt; actually suggests using&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;pacman -Rns package
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;which removes any dependencies not used by another package and any config files
for the package. On the other hand, &lt;code&gt;apt&lt;/code&gt; uses a combination of &lt;code&gt;purge&lt;/code&gt; and
&lt;code&gt;remove&lt;/code&gt;. I&amp;rsquo;m not really sure which comes first or why, and I&amp;rsquo;m not really sure
what these commands fundamentally do. I&amp;rsquo;ve so often received errors with
&lt;code&gt;apt-get update&lt;/code&gt; after removing packages that I&amp;rsquo;m left wondering if I&amp;rsquo;ve ever
used these commands correctly.&lt;/p&gt;

&lt;p&gt;Certainly the argument in favor of Ubuntu (and against Arch Linux-like
derivatives) is that packages are more stable. This is probably true on a
package-to-package basis, but I&amp;rsquo;ve had much more difficulty keeping the OS
stable &lt;em&gt;as a whole&lt;/em&gt; with Ubuntu than with Manjaro. A large part of this has to
do with distribution upgrades, which have been a pain for me on Ubuntu but
&lt;strong&gt;don&amp;rsquo;t exist&lt;/strong&gt; in Manjaro, which operates on a rolling release. Using the
command &lt;code&gt;pacman -Syu&lt;/code&gt; upgrades all on packages on the system, meaning that you
have the most up-to-date version of the OS once you upgrade packages.&lt;/p&gt;

&lt;p&gt;This feature in Manjaro (or the lack thereof in Ubuntu) was the ultimate tipping
point for me. A few months ago my graphics card died, so I bought a new one, an
AMD RX 470. I could not &lt;em&gt;for the life of me&lt;/em&gt; get it working in Ubuntu 14. After
doing some research (after I bought the card, of course), I discovered that AMD
cards don&amp;rsquo;t always work well with GNU/Linux. After trying a plethora of options,
I decided that upgrading from 14 to 16 might be my best shot. Aside from not
solving my graphics card issue, this upgrade resulted in a whole host of
packages not working correctly&lt;sup&gt;2&lt;/sup&gt;. At this point I decided to try
various Arch Linux derivatives, which have a reputation of working with a wide
range of (and often newest) hardware.&lt;/p&gt;

&lt;p&gt;There are plenty of other Arch Linux derivatives including Antergos, Apricity,
and ArchBang. Pure Arch Linux is a bit too stripped down for my liking; Manjaro
seems like a good balance between a simple, highly configurable system and one
that allows you to hit the ground running.&lt;/p&gt;

&lt;p&gt;Over time, I&amp;rsquo;ve come to the conclusion that no GNU/Linux distribution is
perfect. I still have issues with Manjaro from time to time (explained at the
conclusion of the piece), and recently I was wondering if I really gave Ubuntu a
fair shot. Did I exhaust all possible solutions in getting the RX 470 to work?
Is there a easier method to installing packages that I&amp;rsquo;m just missing? And is
&lt;code&gt;apt&lt;/code&gt; really as cryptic as I&amp;rsquo;m making it out to be? A recent adventure has
confirmed some of these suspicions.&lt;/p&gt;

&lt;p&gt;In April I released a suite of tools called &lt;code&gt;shp2nosql&lt;/code&gt; (I wrote about
it &lt;a href=&#34;https://mhaffner.github.io/post/shp2nosql&#34; target=&#34;_blank&#34;&gt;here&lt;/a&gt; and it&amp;rsquo;s on
GitHub &lt;a href=&#34;https://github.com/mhaffner/shp2nosql&#34; target=&#34;_blank&#34;&gt;here&lt;/a&gt;). In a nutshell, it&amp;rsquo;s
designed to insert spatial data into NoSQL systems. I conducted all of my
initial testing on local machines running Manjaro. Before pushing the code to a
public repository on GitHub, I decided to do some testing on other GNU/Linux
distributions to ensure portability. I started with a clean instance of Ubuntu
16 in a virtual machine and installed software from the ground up. Below is the
code I used to install dependencies:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# install dependencies
sudo apt-get update
sudo apt-get install python-software-properties
sudo add-apt-repository ppa:ubuntugis/ubuntugis-unstable
sudo add-apt-repository ppa:webupd8team/java # for java
sudo apt-get update
sudo apt-get install git gdal-bin curl oracle-java8-installer vim
cd ~
git clone https://github.com/mhaffner/shp2nosql ~/git-repos/shp2nosql
export PATH=$PATH:~/git-repos/shp2nosql/bin

# install and start elasticsearch
wget -qO - https://artifacts.elastic.co/GPG-KEY-elasticsearch | sudo apt-key add -
sudo apt-get install apt-transport-https
echo &amp;quot;deb https://artifacts.elastic.co/packages/5.x/apt stable main&amp;quot; | sudo tee -a /etc/apt/sources.list.d/elastic-5.x.list
sudo apt-get update &amp;amp;&amp;amp; sudo apt-get install elasticsearch
## edit /etc/elasticsearch.yml and uncomment cluster.name, node.name, and network.host to 0.0.0.0
sudo systemctl enable elasticsearch.service
sudo systemctl start elasticsearch

# install and start mongodb
sudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv EA312927
echo &amp;quot;deb http://repo.mongodb.org/apt/ubuntu xenial/mongodb-org/3.2 multiverse&amp;quot; | sudo tee /etc/apt/sources.list.d/mongodb-org-3.2.list
sudo apt-get update
sudo apt-get install -y mongodb-org
sudo cp ~/git-repos/shp2nosql/development/ubuntu-16.04/mongodb.service /etc/systemd/system/mongodb.service
sudo systemctl start mongodb
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;What a challenge! I also had to manually alter &lt;code&gt;elasticsearch.yml&lt;/code&gt; and
&lt;code&gt;mongodb.service&lt;/code&gt; (and then save these configs for future testing) because the
default configurations were not sufficient. Compare the above code to what I
needed in Manjaro:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo pacman -Syu elasticsearch mongodb wget gdal vim
sudo systemctl enable elasticsearch.service
sudo systemctl start elasticsearch
sudo systemctl start mongodb
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Way easier. And I did not have to manually alter config files.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Random rambling&lt;/strong&gt;: &lt;em&gt;Some of difference in installation of dependencies is due
to the suite of pre-packaged software that comes with Manjaro; it comes with
&lt;code&gt;curl&lt;/code&gt; and &lt;code&gt;java&lt;/code&gt; whereas Ubuntu does not. The inclusion of these extra packages
is an example of how Manjaro deviates from the pure Arch Linux philosophy, which
generally takes a DIY approach - The developers seek to create an non-bloated
experience, avoiding design decisions that force users down a specific path.
(This is not to suggest that Ubuntu would be expected to contain everything that
Arch Linux contains, of course). However, if Manjaro developers make (a) mostly
good design decisions, (b) that I can change if I want, &amp;copy; that help me get a
system up and running much faster than I could with a bare bones installation&amp;hellip;
then I&amp;rsquo;m okay with this&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;It&amp;rsquo;s possible that users of other Arch Linux derivatives would need something
slightly different to install dependencies for &lt;code&gt;shp2nosql&lt;/code&gt;, but the general
point still stands: many one liners with &lt;code&gt;pacman&lt;/code&gt; are analogous to multi-step
processes with &lt;code&gt;apt&lt;/code&gt;. This includes the installation of &lt;code&gt;QGIS&lt;/code&gt;, &lt;code&gt;R&lt;/code&gt;, and
&lt;code&gt;Emacs&lt;/code&gt; - all of which are staple programs for me.&lt;/p&gt;

&lt;p&gt;With the confusion I&amp;rsquo;ve endured with Ubuntu, I simply can&amp;rsquo;t recommend it
anymore, especially to new users. In this piece I focused mostly on package
installation, but there are other notable features of Manjaro (and other
Arch-based distributions) that are worth mentioning here:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Documentation&lt;/strong&gt;: the Arch Wiki is incredible, much of it applies to Manjaro,
and 95%+ of my questions are answered here. I definitely cannot say the same
for Ubuntu.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;Kernel installation&lt;/strong&gt;: Installing and removing kernels is trivial through
the System Settings Module (this ended up being part of the solution to using
my new GPU).&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;Greater privacy/freedom&lt;/strong&gt;: Many Ubuntu users may not even realize that their OS
contains
&lt;a href=&#34;https://arstechnica.com/information-technology/2012/12/richard-stallman-calls-ubuntu-spyware-because-it-tracks-searches/&#34; target=&#34;_blank&#34;&gt;&amp;ldquo;surveillance code&amp;rdquo;&lt;/a&gt;.
Searches in dashboard are transmitted to Canonical, and the company profits
when a user buys a product from Amazon using the Amazon App.&lt;sup&gt;3,4,5&lt;/sup&gt;&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;Less bloated-ness&lt;/strong&gt;: Manjaro (which is certainly more bloated than pure
Arch) feels much less bloated than Ubuntu. It has no Software Center, for
instance, and feels snappier. Knowing that Canonical transmits search data
might explain some of this new found snappiness&amp;hellip;&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;Other various things &lt;em&gt;just work&lt;/em&gt;&lt;/strong&gt;: For a while, my test of a well-working
GNU/Linux distribution was one with which I could install the &lt;code&gt;NSM3&lt;/code&gt; library
in &lt;code&gt;R&lt;/code&gt;. This sounds ridiculous, of course, but I could never successfully
install the library in Ubuntu or Fedora after many painstaking hours.
Installation of &lt;code&gt;NSM3&lt;/code&gt; was insignificant in Manjaro; it worked on the first
try. I&amp;rsquo;ve played games on Manjaro - Hearthstone&lt;sup&gt;6&lt;/sup&gt;, World of
Warcraft, Faster than Light - that all basically work out of the box. These
took much more additional configuration in Ubuntu.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&#34;some-of-the-problems-i-still-find-with-manjaro&#34;&gt;Some of the problems I still find with Manjaro&lt;/h1&gt;

&lt;p&gt;As previously noted, I still haven&amp;rsquo;t found the perfect GNU/Linux distribution.
Here are problems I still find with Manjaro:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Managing my desktop settings.&lt;/strong&gt; I can&amp;rsquo;t stand point and click menus knowing
that I have to make changes manually across all of systems if I want
consistency. I want my desktop settings (keybindings, background, etc.)
version controlled through a single config file, just like my &lt;code&gt;.spacemacs&lt;/code&gt; and
&lt;code&gt;.vimrc&lt;/code&gt;. I&amp;rsquo;ve heard that i3 is a solution to this, but I don&amp;rsquo;t think I want a
tiling window manager. I like to stack windows on top of one another and
switch as I need. I really like my current Manjaro KDE setup, but it uses many
different config files that seem to change arbitrarily, so VC is a pain. Some
other simple DE could work for me, but I desperately need a launcher so that I
can easily start programs with &lt;code&gt;Super&lt;/code&gt; + &lt;code&gt;&amp;lt;program name&amp;gt;&lt;/code&gt; (which, from my
experience, is not available on LXDE, LXQT, and XFCE).&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;Integration of &lt;code&gt;pacman&lt;/code&gt; and &lt;code&gt;yaourt&lt;/code&gt; package management&lt;/strong&gt;: Upgrading
packages with &lt;code&gt;pacman&lt;/code&gt; is easy, but &lt;code&gt;yaourt&lt;/code&gt; is more difficult. Is it possible
to integrate these (i.e. install with &lt;code&gt;yaourt&lt;/code&gt; but upgrade with &lt;code&gt;pacman&lt;/code&gt;)?&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;Breakage of &lt;code&gt;yaourt&lt;/code&gt; packages&lt;/strong&gt;: This only happened to me once, but it was
pretty crippling. After a system update with &lt;code&gt;pacman&lt;/code&gt;, QGIS (installed via
&lt;code&gt;yaourt&lt;/code&gt;) broke. A forum user came up with a combination of downgrades that
got QGIS working, but downgrades are not officially supported, and I couldn&amp;rsquo;t
upgrade &lt;code&gt;pacman&lt;/code&gt; packages after this downgrade.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;sup&gt;1&lt;/sup&gt; This way, all thrashings of the piece are logged in one place, and
I don&amp;rsquo;t have to stumble upon them individually on Hacker News, various Reddit
pages, Twitter, and other sites!&lt;/p&gt;

&lt;p&gt;&lt;sup&gt;2&lt;/sup&gt; To be fair, Ubuntu does throw a very Windows-esque warning stating
the upgrade my ruin your entire system.&lt;/p&gt;

&lt;p&gt;&lt;sup&gt;3&lt;/sup&gt; This was true as of December 2012 but is probably still happening.&lt;/p&gt;

&lt;p&gt;&lt;sup&gt;4&lt;/sup&gt; This privacy violation is nothing compared to what Microsoft,
Apple, and other companies are probably doing.&lt;/p&gt;

&lt;p&gt;&lt;sup&gt;5&lt;/sup&gt; While more &amp;ldquo;libre&amp;rdquo; than Ubuntu, Arch Linux does not receive gold
stars from The Free Software Foundation&lt;/p&gt;

&lt;p&gt;&lt;sup&gt;6&lt;/sup&gt; I occasionally have issues with my GPU on Windows still. For a time
I was playing Hearthstone through Wine on Manjaro (an unsupported OS) while
could not play at all on Windows as the game would always unexpectedly crash.
It was laughable to me that I could play the game better on an unsupported OS
than on Windows.&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>
